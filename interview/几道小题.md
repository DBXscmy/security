# 渗透测试面时题

1. 为何一个mysql数据库的站，只有以80端口开放？

答： 有几种情况：1.端口应该被修改了；2.使用了站库分离；3.3306端口不对外开放，设置了防火墙规则。

2. 一个成熟并且相对安全的CMS，渗透时扫目录的意义？
   
答： 1.查看敏感文件、找到二级目录继续查找；2.查找有无因误操作而留下的压缩文件、说明文件、二级目录等等。

3. 在某后台新闻编辑界面看到编辑器，应该做什么？

答： 查看编辑器的名称版本，然后搜索公开漏洞。

4. 审查上传点的元素有什么意义？
   
答：有些站点的上传文件类型限制是在前端实现的，只要修改文件类型就可以实现上传。

5. CSRF、XSS、XXE有什么区别，以及修复方式？

答：XSS跨站脚本攻击，用户提交的数据中可以构造代码来执行，实现窃取用户信息等。修复方法是对字符实体进行转义、使用http only禁止JavaScript读取cookie值、输入时校验、浏览器与web应用端采用相同的字符编码。

CSRF是跨站请求伪造攻击，XSS是实现CSRF的一种，是由于没有在关键操作执行前进行是否由用户资源发起的确认。修复方式：筛选出需要防范的CSRF页面，然后嵌入TOKEN、再次输入密码、检验referer等。

XXE是XML外部实体注入攻击，XML中可以通过调用实体来请求本地或者远程内容，和远程文件保护类似，会引发相关安全问题，例如敏感文件读取。修复方法：XML解析库在调用时严格禁止对外部实体的解析。

6. 3389无法连接的几种情况？

答：1.没有开放；2.被修改；3.防火墙拦截；4.内网需端口转发。

7. 列举处OWASP TOP 10 2017

答：注入、失效的身份认证、敏感信息泄露、XXE、失效的访问控制、安全配置错误、跨站脚本、不安全的反序列化、使用含有已知漏洞的组件、不足的日志记录和监控。

8. 说出至少三种业务逻辑漏洞，以及修复方法？

答：
- 密码找回漏洞，存在密码允许暴力破解；存在通用型找回凭证；可以跳过验证步骤；找回凭证可重放；可通过厂商密码得到。
- 身份认证漏洞：会话固定攻击、cookie仿冒，只要得到session或cookie就可以仿冒用户身份。
- 验证码漏洞，存在验证码允许暴力破解；可以绕过。

9.  目标站无防护，上传图片可以正常访问，上传脚本格式访问则403，什么原因？
答：原因很多，可能前端编码不允许写入脚本。

10. 目标站禁止注册用户，找回密码处随便输入用户名提示：“此用户不存在”，你觉得怎么利用？

答：先暴力找出合法用户名，再利用用户名找出密码。后续尝试sql注入攻击。